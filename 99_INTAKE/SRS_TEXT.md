Software Requirements Specification (SRS) 

نظام تسجيل الإنتاج وفحص الجودة (MVP → V1) 

 

هذه الوثيقة تبني المتطلبات، وتحوّلها إلى مواصفات جاهزة للتنفيذ على: 

Oracle DB 

 Oracle APEX  

1. المقدمة 

1.1 الهدف 

تسجيل إنتاجية كل موظف داخل المصنع على مستوى المرحلة التفصيلية لكل منتج. 

تسعير المراحل حسب المواصفات التفصيلية (بالساعة، بالقطعة، للمتعهدين الخارجيين، وحد أدنى شهري). 

استخراج الرواتب (تحليلي، إجمالي، مسير)، شاملاً المهام خارج الإنتاج بالساعة (NPT). 

تتبّع حركة المنتج عبر المراحل ومعرفة مخزون كل مرحلة (WIP) لحظياً. 

توزيع المنتجات آلياً حسب أولوية التسليم ثم بُعد الفرع وزمن الشحن ثم رقم الفاتورة. 

توليد تلقائي لمواعيد تسليم العملاء بالاستناد إلى أداء آخر 7 أيام (القدرة الفعلية). 

شاشة تخطيط واحدة لرصد الاختناقات واتخاذ إجراء مبكر. 

ربط كل مرحلة بتعليمات تشغيلية وفيديوهات وتكرار تدريبي بإقرار الموظفين. 

منع التسجيل في مرحلة قبل إتمام تدريبها بنجاح. 

فحص جودة بمعايير واضحة، مع فحص مخفي يتحقق من مطابقة مواصفات/مقاسات العميل. 

إشعار الموظفين بالتحديثات والمرتجعات والتكرار التدريبي عبر WhatsApp. 

إضافة خاصية تسمح لمسئول التوزيع بتوزيع المنتجات بناء على المراحل والموظفين الذين يعملون فيها، لكي يتم حل مشكلة التشغيل في الأيام التي لا يوجد فيها عمل إضافي. 

مراحل شبيهه لبعضها، مثل مرحلة خياط خارجي ، لايسمح له بضرب الباركود في مراحل الخياطة التي تخص المصنع. 

1.2 النطاق (Scope) 

يشمل: 

الماستر. 

التوزيع (آلي/يدوي). 

 تسجيل الإنتاج. 

 WIP. 

فحص جودة مخفي. 

التدريب. 

الإشعارات. 

التقارير والرواتب. 

التسعير. 

التخطيط والاختناقات. 

تكامل مع نظام المبيعات (Oracle). 

1.3 التعاريف 

المرحلة: خطوة ضمن مسار التصنيع. 

نوع المرحلة: تفصيل. 

وحدة المنتج: ثوب، سديري، دقلة، جاكيت، سروال، قميص نوم/بدلة... 

WIP: مخزون تحت التشغيل على مستوى المرحلة. 

QC: فحص جودة (أساسي/نهائي/فحص مبيعات الفروع). 

ETA التصنيع = مجموع أزمنة كل المراحل المتبقية. 

NPT: مهام خارج الإنتاج بالساعة. 

1.4 الأطراف المعنية (Stakeholders) 

مدير الإنتاج 

أمين المستودع 

فاحص جودة أولي 

فاحص جودة نهائي 

عامل تشغيلي 

خياط 

مسؤول النظام 

محقق موارد بشرية 

مسؤول موارد بشرية 

محاسب 

المدير العام 

2. نظرة عامة على التصنيع والمراحل 

2.1 كتالوج المراحل المبدئي لمنتج (ثوب) لكل نوع منتج مراحل متغيرة. 

الفئات:  

المخازن. 

صرف المواد الخام. 

صرف مواد خام مباشر (للتصليح). 

القص. 

قص القماش القماش ألي. 

الترتيب بعد قص القماش يدويا. 

قص القماش يدويا. 

قص الحشوات أليا. 

الترتيب بعد قص الحشوة يدويا. 

قص الحشوة يدويا. 

المكبس المبدئي. 

العراوي. 

المكبس. 

التطريز. 

الخياطة. 

التحضير. 

الكم. 

جبزور الكم. 

الكبك. 

الرقبة. 

الجبزور. 

جيب الصدر. 

جيب الجنب. 

تركيب البدنة. 

تركيب الأكمام والجنوب. 

تركيب الجنب. 

تركيب جبزور الكم. 

تركيب الكبك. 

تجميع البدنة مع الجنوب. 

خياطة الجنوب خياطة خارجية. 

كي أولي. 

خياطة الطول. 

تركيب الرقبة. 

تركيب الكبك. 

فحص جودة أولية. 

التشطيب. 

مكبس الرقبة الداخلي. 

مكبس الكبك الداخلي. 

تركيب الأزرار. 

الكي. 

فحص جودة نهائي. 

التغليف. 

الشحن والتوصيل. 

فحص جودة في الفرع. 

2.2 المنتجات والأرقام 

المنتجات: 

 ثوب. 

سديري. 

دقلة. 

جاكيت. 

سروال. 

قميص نوم. 

قميص بدلة. 

رقم المنتج يأتي من نظام المبيعات (Oracle). 

المقاسات تُدار بالإنش أو السنتيمتر بحسب المدخلات في فحوصات الجودة. 

3. المتطلبات الوظيفية (FR) 

3.1 FR-1 الماستر والمرجعيات 

أنواع المراحل: تعريف/تعديل/تعطيل. 

المراحل: كود فريد، أسماء عربي/إنجليزي/هندي اختياري، نوع، ترتيب، حالة. 

المنتجات: ربط بأنواع المنتجات من المبيعات + قاموس مواصفات/مقاسات لكل منتج/موديل. 

الموظفين: رقم وظيفي، أسماء، Badge/Barcode، مرحلة افتراضية، مهارات/مراحل مخولة. 

الأخطاء: قاموس أخطاء لكل مرحلة بشدة/فئات مع جزاءات حسب الوظيفة/مكان الاكتشاف/التكرار. 

مؤثرات الرواتب: ساعة تشغيلية، بالقطعة للمتعهدين، حد أدنى شهري. 

المحتوى التدريبي: تعليمات تشغيلية، فيديوهات، اختبارات، تكرار دوري، إقرار. 

قوالب الواتساب: قوالب رسائل ديناميكية. 

إعدادات اليوم الموسمي: حدود اليوم الموسمي بالساعة/الدقيقة AM/PM. 

3.2 FR-2 التوزيع والحركة 

توزيع آلي حسب: أولوية التسليم ← بُعد الفرع وزمن الشحن ← رقم الفاتورة. 

توزيع يدوي مع تسجيل السبب وإمكانية التعديل. 

منع القفز غير المنطقي بين المراحل وفق التسلسل. 

Undo لحركة التوزيع بسلطة مشرف وتسجيل السبب. 

WIP لحظي على مستوى المرحلة (داخل/خارج). 

3.3 FR-3 تسجيل الإنتاجية 

الدخول: مسح بطاقة الموظف أو إدخال الرقم الوظيفي. 

اقتراح المرحلة الافتراضية مع السماح بالمخولة فقط. 

مسح/إدخال رقم المنتج (Barcode/QR). 

تسجيل بداية ونهاية لكل قطعة واستخراج المدة الفعلية. 

جعل مرحلة نهائية للمصنع وذلك لمعرفة المراحل التي نسي بعض الموظفين تسجيلها. 

قواعد: 

عدم تكرار نفس المنتج في نفس المرحلة. 

منع تشغيل نفس الفاتورة في ذات المرحلة من أكثر من موظف لبعض مراحل الخياطة. 

منع تسجيل إنتاج لمن لديه مرتجع غير مُعالج بعد موعد إصلاح. 

فحص مواصفة غسيل القماش، وتوليد مرحلة غسيل القماش. 

فحص مواصفة التطريز، وتوليد مرحلة التطريز. 

فحص مواصفة الإكسسوار، وتوليد مرحلة الإكسسوار. 

 

3.4 FR-4 التدريب والاعتمادات 

ربط كل مرحلة بحزمة تدريب (تشغيل الآلة، الفحص، الصيانة، معايير مصورة). 

بوابة تمنع تسجيل الإنتاج قبل إتمام التدريب بنجاح. 

جدولة تكرار تدريبي دوري مع إشعارات وإقرار إلكتروني محفوظ. 

3.5 FR-5 فحص الجودة (QC) 

أنواع فحص الجودة: 

أولي (للتحضير/الخياطة). 

نهائي (للتشطيب). 

 فحص مبيعات الفروع. 

نتائج الفحص: 

مطابق للمواصفات والمقاييس. 

إرجاع للإصلاح. 

مرفوض وتغيير. 

فحص مخفي ذكي يطابق المواصفات/المقاسات مع اختيار العميل، وعند الفشل ينشئ تذكرة إصلاح إلزامية. 

فحص هل المنتج بروفة لمراحل معينة. 

صور إلزامية عند تسجيل العيب في بعض معايير الفحص. 

موعد إصلاح مع إشعار واتساب ومنع متابعة التسجيل بعد الموعد إلا باستثناء مدير الإنتاج لنقص المواد الخام. 

3.6 FR-6 الإشعارات (WhatsApp) 

إرسال تنبيهات: 

التدريب. 

المرتجعات. 

مواعيد الإصلاح. 

لتحديثات المحتوى التدريبي. 

سجل التسليم (Sent/Delivered/Read إن توفر). 

3.7 FR-7 التخطيط والاختناقات 

لوحة تعرض رصيد كل مرحلة، معدل الصرف، المتوقع إخلاؤه، والاختناقات. 

حساب القدرة اليومية/الأسبوعية اعتماداً على أداء آخر 7 أيام. 

حساب ETA للتسليم بناء على عبور المراحل ومعدلاتها الفعلية. 

3.8 FR-8 الرواتب والتكاليف 

احتساب إنتاجية الموظف وربطها بسعر الساعة التشغيلية. 

دعم المتعاقدين الخارجيين بالقطعة. 

تسجيل مهام NPT بالساعة وربطها بالأجور. 

تقارير: تحليلي رواتب، إجمالي الرواتب، مسير الرواتب. 

3.9 FR-9 التقارير 

تسجيل الإنتاجية (سجل خام). 

إنتاجية موظف (يوم/أسبوع/شهر/سنة). 

إنتاجية المراحل. 

إنتاجية المرحلة حسب الموظفين. 

مخزون المرحلة (WIP). 

التوزيع (آلي/يدوي) مع الأسباب. 

فحص الجودة: إجمالي/تشغيلي/مقاسات/مواصفات + صور. 

حساب موعد التسليم (ETA). 

القدرة الإنتاجية والإضافي. 

أسعار المراحل. 

تحليلي رواتب + إجمالي + مسير الرواتب. 

تحليلي أخطاء الموظفين بالشهر. 

3.10 FR-10 التكاملات 

تكامل مع نظام المبيعات (Oracle) لاستيراد: 

رقم الفاتورة. 

رقم المنتج. 

نوع الإضافات. 

اختيارات العميل: 

مقاسات. 

مواصفات. 

مواعيد التسليم. 

تكامل ثنائي مع نظام التفصيل: 

استعلام حالة المنتج (Pull API) يعيد حركة المنتج كاملة + QC + تذاكر الإصلاح + ETA. 

دفع أحداث الحركة (Webhook) موقعة HMAC عند كل تغيير مرحلة. 

هوية موحدة: THOBE_NUM مع دعم INVOICE_NUM/ITEM_SEQ. 

أمن وموثوقية: مفاتيح API، Rate Limits، Idempotency لمدة 24 ساعة. 

4. المتطلبات غير الوظيفية (NFR) 

الأداء: استجابة إدخال ≤ 1.5 ثانية، لوحات ≤ 3–5 ثوانٍ حتى 100k سجل/شهر. 

القابلية للتوسع: حتى 300 مستخدم متزامن و10,000 قطعة/يوم. 

الإتاحة: 99.5% شهرياً. 

الأمن: RBAC، أمن صفوف (فرع/مركز/مرحلة)، HTTPS، إخفاء بيانات حساسة. 

قابلية الاستخدام: عربي/إنجليزي/هندي، Mobile/Kiosk، قارئات باركود، اختصارات لوحة. 

النسخ الاحتياطي: نسخ يومي/أسبوعي وRPO ≤ 15 دقيقة. 

تكامل الأنظمة: استعلام الحالة ≤ 5 ثوانٍ (P95)، تسليم الحدث ≤ 10 ثوانٍ، توافر ≥ 99%، تسليم at-least-once مع Idempotency GUID، Sandbox للاختبار. 

5. الأدوار والصلاحيات 

مدير الإنتاج: جميع عمليات التشغيل/التوزيع/الاستثناءات/التخطيط والتقارير. 

أمين المستودع: توزيع يدوي/اعتماد التوزيع الآلي، مراجعة WIP. 

فاحص جودة أولي/نهائي: سجلات QC، إنشاء تذاكر إصلاح. 

عامل/خياط: تسجيل إنتاج ضمن المراحل المخولة وبعد اجتياز التدريب. 

مسؤول النظام: الماستر، القواميس، الأسعار، القوالب، الصلاحيات. 

محقق/مسؤول موارد بشرية: الاطلاع على الأخطاء/الجزاءات وإقرارات التدريب. 

محاسب: الرواتب والتقارير المالية. 

المدير العام: لوحات إجمالية وتقارير عليا. 

6. نموذج البيانات (High-Level) 

STAGE_TYPES(TYPE_ID, NAME_AR, NAME_EN, ACTIVE) 

STAGES(STAGE_ID, CODE*, NAME_AR, NAME_EN, TYPE_ID#, SEQ, ACTIVE) 

EMPLOYEES(EMP_ID, EMP_NO*, NAME_AR, NAME_EN, NAME_HI, BADGE_CODE*, DEFAULT_STAGE_ID#, STATUS) 

SKILLS(EMP_ID#, STAGE_ID#) 

TRAINING_CONTENT(TR_ID, STAGE_ID#, TITLE, MEDIA_URL, QUIZ_JSON, RECURRENCE) 

TRAINING_ASSIGN(ASSIGN_ID, EMP_ID#, TR_ID#, ASSIGN_DATE, DUE_DATE, STATUS, ACK_AT) 

PRODUCTS(PROD_ID, PROD_CODE*, PROD_TYPE, MODEL, CUSTOMER_OPTIONS_JSON) 

ORDERS(ORDER_ID, INVOICE_NUM*, CUSTOMER, DUE_DATE, BRANCH, SHIP_DISTANCE) 

ORDER_ITEMS(ITEM_ID, ORDER_ID#, PROD_ID#, QTY) 

DISTRIBUTIONS(DIST_ID, ITEM_ID#, FROM_STAGE_ID#, TO_STAGE_ID#, DIST_TIME, USER_ID#, REASON) 

PROD_LOGS(LOG_ID, ITEM_ID#, STAGE_ID#, EMP_ID#, START_AT, END_AT, DURATION_SEC, NOTES) 

DEFECTS(DEFECT_ID, CODE*, NAME_AR, NAME_EN, SEVERITY, CATEGORY) 

QC_CHECKS(QC_ID, ITEM_ID#, STAGE_ID#, EMP_ID#, QC_TYPE, RESULT, HIDDEN_CHECK_JSON, NOTE) 

QC_DEFECTS(QC_ID#, DEFECT_ID#, QTY, PHOTO_URL) 

REPAIR_TICKETS(RPR_ID, ITEM_ID#, STAGE_ID#, ASSIGNED_EMP_ID#, DUE_AT, STATUS, REASON) 

RATES(RATE_ID, STAGE_ID#|EMP_ID#, RATE_TYPE(HOUR|PIECE|MONTHLY_MIN), RATE_VALUE, EFFECTIVE_FROM, EFFECTIVE_TO) 

NPT_LOGS(NPT_ID, EMP_ID#, TASK_DESC, START_AT, END_AT, HOURS) 

PAYROLL_RUNS(RUN_ID, PERIOD_FROM, PERIOD_TO, STATUS) 

PAYROLL_LINES(RUN_ID#, EMP_ID#, EARN_PROD, EARN_PIECE, EARN_NPT, DEDUCTIONS, NET) 

NOTIFICATIONS(MSG_ID, EMP_ID#, CHANNEL, TEMPLATE, PAYLOAD_JSON, STATUS, SENT_AT) 

SETTINGS(KEY*, VALUE) 

AUDIT_LOG(AUD_ID, TABLE_NAME, ROW_ID, ACTION, USER_ID, TS) 

7. حالات الاستخدام (Use Cases) 

UC-01 التوزيع الآلي: ترتيب العناصر وقبول/تعديل من أمين المستودع. 

UC-02 التوزيع اليدوي: تنفيذ/إلغاء مع سبب وسجل تدقيقي. 

UC-03 تسجيل إنتاج: بطاقة/رقم وظيفي → مرحلة مخولة → منتج → بدء/إنهاء → حفظ. 

UC-04 فحص جودة مخفي: مطابقة مواصفات/مقاسات العميل وفتح تذكرة إصلاح عند الفشل. 

UC-05 إصلاح مرتجع: جدولة موعد، إشعار، منع تسجيل بعد الموعد إلا باستثناء. 

UC-06 تدريب وإقرار: تعيين تدريب، إشعار واتساب، اختبار قصير، إقرار إلكتروني. 

UC-07 الرواتب: تجميع الإنتاج/الساعات/NPT وتطبيق الأسعار وتشغيل الدورة. 

UC-08 التقارير: توليد/تصدير تقارير مع فلاتر زمنية قياسية. 

UC-09 استعلام حالة من نظام التفصيل: GET /items/{thobe_num}/status يعيد الحركة الكاملة + QC + ETA. 

UC-10 استقبال أحداث الحركة (Webhook): تسجيل نقطة نهاية، توقيع HMAC، تحديث الحالة. 

8. الخوارزميات الرئيسية 

ETA التسليم: متوسط متحرك لإنتاج آخر 7 أيام لكل مرحلة × مسار المنتج × WIP الحالي. 

كشف الاختناق: مرحلة ذات WIP مرتفع ومعدل صرف منخفض مقارنة بالمتوسط التاريخي. 

قواعد التوزيع: حسب DueDate ثم ShipDistance ثم InvoiceNum مع استثناءات مسجلة. 

9. واجهات المستخدم (APEX Pages) 

P10 الإعدادات (اليوم الموسمي، القوالب، السياسات). 

P20 أنواع المراحل. 

P30 المراحل. 

P40 الموظفون والمهارات + المرحلة الافتراضية. 

P45 التدريب والمحتوى والمهام وإقرارات الموظفين. 

P50 التوزيع (آلي/يدوي) + WIP مباشر. 

P60 تسجيل الإنتاج (Mobile/Kiosk) مع بدء/إيقاف والتحقق. 

P70 فحص الجودة (أساسي/نهائي/مبيعات) + صور + فحص مخفي. 

P75 تذاكر الإصلاح وجدولها. 

P80 لوحة التخطيط والاختناقات + ETA. 

P90 الأسعار (ساعة/قطعة/حد أدنى شهري). 

P95 مهام NPT بالساعة. 

P100 الرواتب (تشغيل/مراجعة/استخراج). 

P110 التقارير (إنتاج/WIP/QC/توزيع/رواتب/أخطاء). 

10. معايير القبول (Acceptance Criteria) 

تعريف المراحل وأنواعها وتفعيلها. 

التوزيع الآلي يعمل ويُعتمد/يُعدّل مع تسجيل الأسباب. 

تسجيل إنتاج ببداية/نهاية لكل قطعة مع منع المخالفات. 

WIP دقيق لكل مرحلة. 

QC أساسي ونهائي + فحص مخفي يفتح تذكرة إصلاح ويرسل إشعار واتساب. 

لوحة التخطيط تعرض الاختناقات وETA مبنياً على آخر 7 أيام. 

تقارير أساسية تعمل + تصدير (إنتاجية موظف/مرحلة، WIP، QC، رواتب). 

دورة رواتب تحتمل: ساعة تشغيلية، قطعة، حد أدنى شهري، NPT. 

11. خطة البيانات والترحيل 

إدخال الماستر يدوياً لضمان الجودة. 

ربط المنتجات والفواتير من نظام المبيعات (Oracle) دون استيراد تاريخي في الإصدار الأول. 

إمكانية استقدام تاريخ إنتاج/جودة لاحقاً بعد استقرار النموذج. 

12. الأمن والتدقيق 

RBAC بحسب الأدوار، مع أمن صفوف على مستوى الفرع/المركز/المرحلة. 

سجل تدقيقي كامل لكل عمليات CRUD/Undo مع المستخدم والسبب. 

صلاحيات خاصة: اعتماد توزيع، استثناء منع التسجيل بعد موعد إصلاح. 

13. خارطة الطريق 

MVP (4–6 أسابيع): الماستر، التوزيع، تسجيل الإنتاج ببداية/نهاية، WIP، QC أساسي/نهائي + فحص مخفي، التدريب (Gate + إقرار)، إشعارات واتساب، تقارير أساسية، أسعار، NPT. 

V1.1: تحسين التخطيط والاختناقات، تحسين ETA، تكامل أعمق مع المبيعات، لوحات BI، جزاءات تلقائية من العيوب. 

V1.2: تكلفة متقدمة، حوافز ذكية، تطبيق جوال بخاصية Offline Queue. 

14. المرفقات 

قائمة المراحل: تُستكمل وتُعتمد بترميز موحّد. 

قائمة العيوب والجزاءات: تُحمّل كقاموس رسمي. 

قوالب واتساب: مرتجع/تدريب جديد/موعد إصلاح/تذكير تدريب. 

قائمة التقارير: تُربط بمصفوفة تتبّع المتطلبات (RTM). 