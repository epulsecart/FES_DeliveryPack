# أولوية التكاملات (Integration Priority)

## المبادئ
- تكاملات إدخال الطلبات والمواصفات شرط لبدء التشغيل الفعلي.
- استعلام الحالة مطلوب لربط نظام التفصيل مع تقدم المنتج.
- دفع الأحداث عبر Webhook يُنفّذ كحد أدنى بمجموعة أحداث صغيرة لتقليل المخاطر.
- إشعارات WhatsApp مطلوبة في MVP مع قناة بديلة لاحقاً.

## قرارات MVP
1) **استيراد المبيعات من Oracle (INT-001)**
   - MVP
   - سبب: النظام يعتمد على الفواتير والمنتجات والمواصفات.

2) **استعلام الحالة من نظام التفصيل (INT-002)**
   - MVP
   - سبب: مطلوب لتمكين متابعة حالة المنتج من الأنظمة الخارجية.

3) **Webhook لدفع الأحداث (INT-003)**
   - MVP (نطاق أدنى)
   - مجموعة أحداث دنيا: StageChanged, QCResult, RepairCreated
   - السبب: منصوص عليه في SRS، ويقلص الفجوة بين الأنظمة.

4) **إشعارات WhatsApp (INT-004)**
   - MVP
   - السبب: منصوص عليه في SRS كقناة تواصل رئيسية.

## قرارات V1+
- OTP/2FA: V1+ ما لم تُلزم سياسات الامتثال.
- صادرات مجدولة (SharePoint/S3): V1+ ما لم يفرض العقد خلاف ذلك.

## ملاحظات التنفيذ
- جميع تكاملات MVP تستخدم مفاتيح API كافتراض.
- Webhook موقّع HMAC مع Idempotency لمدة 24 ساعة.

## قرارات V1.1 (افتراضية)
- تكامل المبيعات: تحديثات الإلغاء/التعديل ومواعيد التسليم عبر Upsert على نفس واجهة الاستيراد.
- لوحات BI: داخل APEX مع مؤشرات مجمعة (لا منصة خارجية).
